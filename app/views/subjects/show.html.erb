<div class="n-wrapper">
  <div class="n-card">
    <div class="n-card-header fw-semibold text-dark">
      <div style="display:flex; justify-content:space-between; align-items:center;">
        <h2 class="subject-title"><%= @subject.name %></h2>
        <%= link_to "Edit Subject", edit_subject_path(@subject), class: "btn-n btn-peach" %>
      </div>

      <div class="n-meta text-muted" style="font-size:0.9rem; margin-bottom:12px;">
        Teacher: <%= @subject.teacher.name %> &nbsp;|&nbsp; Units: <%= @subject.number_of_units %>
      </div>
    </div>

    <div class="n-card-body">
      <h4 class="fw-semibold mb-3 bi bi-people-fill" style="color: #333;"> SECTIONS</h4>

      <% @subject.sections.each do |section| %>
        <div class="n-section mb-4" style="padding:12px 0; border-top:1px solid #ddd;">
          <p><strong>Section:</strong> <%= section.name %></p>
          <p><strong>Room:</strong> <%= section.room %></p>
          <p><strong>Time Slot:</strong> <%= section.time_slot %></p>
          <p><strong>Number of Students:</strong> <%= section.number_of_students %></p>

          <table class="n-subject-table mt-2">
            <thead>
              <tr>
                <th>STUDENT NAME</th>
                <th>PROGRAM</th>
                <th>YEAR LEVEL</th>
              </tr>
            </thead>

            <tbody>
              <% section.classlists.each do |classlist| %>
                <tr>
                  <td><%= classlist.student.name %></td>
                  <td><%= classlist.student.program %></td>
                  <td><%= classlist.student.year_level %></td>
                </tr>
              <% end %>
            </tbody>
          </table>
        </div>
      <% end %>
    </div>
  </div>

  <div class="show-actions" style="display:flex; justify-content:space-between; margin-top:18px;">
    <%= link_to "â† Back to Subjects", subjects_path, class: "btn-n btn-grey" %>
    <%= button_to "Delete Subject", @subject,
        method: :delete,
        data: { confirm: "Are you sure you want to delete this subject?" },
        class: "btn-n btn-pink" %>
  </div>
</div>
