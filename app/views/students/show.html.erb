<div class="n-wrapper">
  <div class="n-card">
    <div class="d-flex justify-content-between align-items-start">
      <div>
        <h1 class="mb-2 m-0"><%= @student.name %></h1>
        <div class="n-meta text-muted" style="font-size:0.9rem; margin-bottom:12px;">
          <%= @student.department.name %> Department &nbsp;| <%= @student.program %> &nbsp;|&nbsp; Year <%= @student.year_level %>
        </div>
      </div>
      <%= link_to "Edit Details", edit_student_path(@student), class: "btn-n btn-peach" %> 
    </div>

    <div class="n-card-body">
      <div style="display:flex; gap:24px; align-items:flex-start;">
        <div style="flex:1; solid #ddd; padding-right:12px;">
          <p style="margin:0 0 12px;"><strong>Total Assessment:</strong> ₱<%= number_with_precision(@student.total_assessment, precision: 2, delimiter: ',') %></p>
          <p style="margin:0 0 0;"><strong>Total Units:</strong> <%= @student.number_of_units %></p>
        </div>
      </div>
    </div>
  </div>

  <div class="n-card department-card">
    <details>
      <summary style="font-weight:600; font-size:1.2rem; ">SUBJECTS</summary>
      <table class="n-table" style="margin-top:15px;">
        <thead>
          <tr>
            <th>Subject</th>
            <th>Section</th>
            <th>Units</th>
            <th>Teacher</th>
          </tr>
        </thead>
        <tbody>
          <% @student.classlists.each do |classlist| %>
            <tr>
              <td><strong><%= classlist.section.subject.name %></td>
              <td><%= classlist.section.name %></td>
              <td><%= classlist.section.subject.number_of_units %></td>
              <td><%= classlist.section.subject.teacher.name %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </details>
  </div>

  <div class="d-flex justify-content-between align-items-center mt-4">
    <%= link_to "← Back to Students", students_path, class: "btn-n btn-grey" %>
    <%= button_to "Delete Student", @student, method: :delete, data: { confirm: "Are you sure?" }, class: "btn-n btn-pink" %>
  </div>
</div>