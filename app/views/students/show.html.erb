<div class="n-wrapper">
  <div class="n-card">
    <div class="n-card-header fw-semibold text-dark">
      <div style="display:flex; justify-content:space-between; align-items:center;">
        <h2 class="student-title"><%= @student.name %></h2>
        <%= link_to "Edit Student", edit_student_path(@student), class: "btn-n btn-peach" %>
      </div>

      <div class="n-meta text-muted" style="font-size:0.9rem; margin-bottom:12px;">
        <%= @student.department.name %> Department &nbsp;| <%= @student.program %> &nbsp;|&nbsp; Year <%= @student.year_level %>
      </div>
    </div>

    <div class="n-card-body">
      <div style="display:flex; gap:24px; align-items:flex-start;">
        <div style="flex:1; solid #ddd; padding-right:12px;">
          <p style="margin:0 0 12px;"><strong>Total Assessment:</strong> ₱<%= number_with_precision(@student.total_assessment, precision: 2, delimiter: ',') %></p>
          <p style="margin:0 0 0;"><strong>Total Units:</strong> <%= @student.number_of_units %></p>
        </div>
      </div>
    </div>
  </div>

  <div class="n-card">
    <h5 class="fw-semibold mb-3 bi bi-book-half" style="color: #333;"> List of Subjects</h5>
    <table class="n-subject-table">
      <thead>
        <tr>
          <th>SUBJECT</th>
          <th>SECTION</th>
          <th>UNITS</th>
          <th>TEACHER</th>
        </tr>
      </thead>

      <tbody>
        <% @student.classlists.each do |classlist| %>
          <tr>
            <td><%= classlist.section.subject.name %></td>
            <td><%= classlist.section.name %></td>
            <td><%= classlist.section.subject.number_of_units %></td>
            <td><%= classlist.section.subject.teacher.name %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

  <div class="show-actions" style="display:flex; justify-content:space-between; margin-top:18px;">
    <%= link_to "← Back to Students", students_path, class: "btn-n btn-grey" %>
    <%= button_to "Delete", @student,
        method: :delete,
        data: { confirm: "Are you sure you want to delete this student?" },
        class: "btn-n btn-pink" %>
  </div>
</div>
