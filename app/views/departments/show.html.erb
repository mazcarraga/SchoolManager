<div class="n-wrapper">
  <div class="n-card">
    <div style="display:flex; justify-content:space-between; align-items:center;">
      <h2 style="margin:0;"><%= @department.name %></h2>
      <%= link_to "Edit Department", edit_department_path(@department), class: "btn-n btn-peach" %>
    </div>

    <div class="n-meta text-muted" style="font-size:0.9rem; margin-top:8px;">
      <strong>Location:</strong> <%= @department.location %>
    </div>
  </div>

  <div class="n-card">
    <details>
      <summary class="bi bi-people-fill" style="cursor:pointer; font-weight:600; font-size:1.2rem; color:#333;">
        STUDENTS
      </summary>

      <table class="n-table" style="margin-top:15px;">
        <thead>
          <tr>
            <th>Name</th>
            <th>Program</th>
            <th>Year Level</th>
          </tr>
        </thead>
        <tbody>
          <% @department.students.each do |student| %>
            <tr>
              <td><%= student.name %></td>
              <td><%= student.program %></td>
              <td style="text-align:center;"><%= student.year_level %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </details>
  </div>

  <div class="n-card">
    <details>
      <summary class="bi bi-person-video3" style="cursor:pointer; font-weight:600; font-size:1.2rem; color:#333;">
        TEACHERS
      </summary>

      <table class="n-table" style="margin-top:15px;">
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Specialization</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <% @department.teachers.each do |teacher| %>
            <tr>
              <td><%= teacher.name %></td>
              <td><%= teacher.email %></td>
              <td><%= teacher.specialization %></td>
              <td><%= teacher.status %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </details>
  </div>

  <div class="n-card">
    <details>
      <summary class="bi bi-person-badge-fill" style="cursor:pointer; font-weight:600; font-size:1.2rem; color:#333;">
        STAFFS
      </summary>

      <table class="n-table" style="margin-top:15px;">
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Monthly Salary</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <% @department.staffs.each do |staff| %>
            <tr>
              <td><%= staff.name %></td>
              <td><%= staff.email %></td>
              <td>₱<%= number_with_precision(staff.monthly_salary, precision: 2, delimiter: ',') %></td>
              <td><%= staff.status %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </details>
  </div>

  <div class="show-actions" style="margin-top:18px;">
    <%= link_to "← Back to Departments", departments_path, class: "btn-n btn-grey" %>

    <%= button_to "Destroy Department", @department,
          method: :delete,
          data: { turbo_confirm: "Are you sure you want to delete this department?" },
          class: "btn-n btn-pink" %>
  </div>
</div>
