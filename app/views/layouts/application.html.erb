<!DOCTYPE html>
<html>
  <head>
    <title>Mynewapplication</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
    
    <!-- Bootstrap CSS CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    >

    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    >

    <!-- Custom pastel theme (optional CSS override block) -->
    <style>
      :root {
        --pink: #F8C8DC;
        --peach: #F8E4C8;
        --mint: #C8F8E4;
        --sky: #C8DCF8;
      }

      .navbar-custom {
        background: linear-gradient(90deg, var(--pink), var(--sky));
        border-bottom: 4px solid var(--peach);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      .navbar-custom .navbar-brand {
        font-weight: 700;
        color: #333 !important;
      }

      .navbar-custom .nav-link {
        color: #333 !important;
        font-weight: 500;
        transition: 0.3s;
        border-radius: 0.5rem;
        padding: 0.5rem 0.75rem;
      }

      .navbar-custom .nav-link:hover {
        background-color: var(--mint);
        color: #000 !important;
      }

      .navbar-custom .nav-link.active {
        background-color: var(--peach);
        color: #000 !important;
      }

      .navbar-toggler {
        border: none;
      }
      .navbar-toggler-icon {
        background-image: url("data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 30 30'
        xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='rgba(51,51,51,0.8)'
        stroke-width='2' stroke-linecap='round' stroke-miterlimit='10'
        d='M4 7h22M4 15h22M4 23h22'/%3E%3C/svg%3E");
      }
    </style>
  </head>

  <body>
    <nav class="navbar navbar-expand-lg navbar-light navbar-custom mb-4">
      <div class="container">
        <a class="navbar-brand" href="#">
          <i class="bi bi-mortarboard-fill me-2"></i>
          CARATLAND
        </a>

        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item"><%= link_to raw('<i class="bi bi-building me-1"></i> Departments'), departments_path, class: "nav-link" %></li>
            <li class="nav-item"><%= link_to raw('<i class="bi bi-person-video3 me-1"></i> Teachers'), teachers_path, class: "nav-link" %></li>
            <li class="nav-item"><%= link_to raw('<i class="bi bi-people-fill me-1"></i> Students'), students_path, class: "nav-link" %></li>
            <li class="nav-item"><%= link_to raw('<i class="bi bi-diagram-3-fill me-1"></i> Sections'), sections_path, class: "nav-link" %></li>
            <li class="nav-item"><%= link_to raw('<i class="bi bi-book-half me-1"></i> Subjects'), subjects_path, class: "nav-link" %></li>
            <li class="nav-item"><%= link_to raw('<i class="bi bi-list-check me-1"></i> Classlists'), classlists_path, class: "nav-link" %></li>
            <li class="nav-item"><%= link_to raw('<i class="bi bi-person-badge-fill me-1"></i> Staffs'), staffs_path, class: "nav-link" %></li>
            <li class="nav-item"><%= link_to raw('<i class="bi bi-people me-1"></i> Guardians'), guardians_path, class: "nav-link" %></li>
            <li class="nav-item"><%= link_to raw('<i class="bi bi-link-45deg me-1"></i> Student-Guardian'), relationships_path, class: "nav-link" %></li>
          </ul>
        </div>
      </div>
    </nav>
    
    <% flash.each do |key, message| %>
      <div class="alert alert-<%= key == "notice" ? "success" : "danger" %> alert-dismissible fade show" role="alert">
        <%= message %>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    <% end %>

    <%= yield %>
    <!-- Bootstrap JS CDN (Optional for dropdowns, nav, etc.) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js">
    </script>
  </body>
</html>