<div class="n-wrapper">
  <div class="n-card">
    <div class="n-card-header fw-semibold text-dark">
      <div style="display:flex; justify-content:space-between; align-items:center;">
        <h2 class="staff-title"><%= @guardian.name %></h2>
        <%= link_to "Edit Guardian", edit_guardian_path(@guardian), class: "btn-n btn-peach" %>
      </div>
      <div class="n-meta text-muted" style="font-size:0.9rem; margin-bottom:12px;">
        <% if @guardian.contact_number.present? %>
          Contact: <%= @guardian.contact_number %>
        <% else %>
          No Contact Info
        <% end %>
      </div>
    </div>

    <div class="n-card-body">
      <div style="display:flex; flex-direction:column; gap:16px;">
        <p style="margin:0;"><strong>Email Address:</strong> <%= @guardian.email_address.presence || "N/A" %></p>
      </div>

      <div style="margin-top:20px;">
        <h3 style="margin-bottom:12px;">List of Students</h3>
        <table style="width:100%; border-collapse:collapse;">
          <thead>
            <tr>
              <th style="text-align:left; border-bottom:1px solid #ddd; padding:8px;">Name</th>
              <th style="text-align:left; border-bottom:1px solid #ddd; padding:8px;">Relationship</th>
            </tr>
          </thead>
          <tbody>
            <% @guardian.relationships.each do |relationship| %>
              <tr>
                <td style="padding:8px; border-bottom:1px solid #eee;"><%= relationship.student.name %></td>
                <td style="padding:8px; border-bottom:1px solid #eee;"><%= relationship.relation %></td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="show-actions" style="display:flex; justify-content:space-between; margin-top:18px;">
    <%= link_to "â† Back to Guardians", guardians_path, class: "btn-n btn-grey" %>
    <%= button_to "Delete", @guardian,
        method: :delete,
        data: { confirm: "Are you sure you want to delete this guardian?" },
        class: "btn-n btn-pink" %>
  </div>
</div>
